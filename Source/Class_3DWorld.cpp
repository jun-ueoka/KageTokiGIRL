//***********************************************************************************
//!	ファイル名		Class_3DWorld.cpp
//
//	機能			3D空間を制御するクラスの実装
//	記述			上岡　純
//	プロジェクト	未定
//	更新			2008/07/18	<新規>
//***********************************************************************************

//-----------------------------------------------------------------------
//!	インターフェイスヘッダー
//-----------------------------------------------------------------------
#include	"Class_3DWorld.h"

//-----------------------------------------------------------------------
//!	3D空間の名前空間
//-----------------------------------------------------------------------
namespace NS_3DWORLD
{
	//================================================================================
	//!	名前空間の開放
	//================================================================================
	using namespace	NS_3DOBJECT;		//!< 3Dオブジェクト

	//================================================================================
	//!	メソッド名	C3D_WORLD::コンストラクタ
	//
	//	更新		2008/07/18	<新規>
	//================================================================================
	C3D_WORLD::C3D_WORLD(void)
	{
	//	NULL化
		this->viewG		= NULL;			//!< 描画グループ
		this->hitG		= NULL;			//!< 衝突グループ
		this->camera	= NULL;			//!< カメラ
	}

	//================================================================================
	//!	メソッド名	C3D_WORLD::デストラクタ
	//
	//	更新		2008/07/18	<新規>
	//================================================================================
	C3D_WORLD::~C3D_WORLD(void)
	{
	//	解放
		SAFE_DELETE(this->viewG);		//!< 描画グループ
		SAFE_DELETE(this->hitG);		//!< 衝突グループ

	//	解放グループの解放
		vector<NS_3DOBJECT::C3D_OBJECT*>::iterator	p;
		for(p  = this->releases.begin();
			p != this->releases.end();
			p++)
		{
			SAFE_DELETE(*p);
		}
		this->releases.clear();
	}
	
	//================================================================================
	//!	メソッド名	C3D_WORLD::worldDraw
	//
	//	機能		描画
	//	更新		2008/07/18	<新規>
	//================================================================================
	void
	C3D_WORLD::worldDraw(CONST DEV inDev9)
	{
	//	描画グループとカメラが存在するなら、描画
		if(	(this->viewG)	&&
			(this->camera))
		{
			this->viewG->drawWhitSortByCameraPosition(
				inDev9, this->camera);
		}
	}
}
//-----------------------------------------------------------------------
//!	3D空間の名前空間
//-----------------------------------------------------------------------